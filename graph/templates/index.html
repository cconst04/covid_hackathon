{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="row" id="main">
  <div class="col-2 space-left" id="statistics">
    <h4>Total SMS sent:{{total}}</h4>
    <h4>SMS sent today per age group</h4>
    {% for item in today_age_stats %}
    Age group {{item.range}}<span class="pull-right strong"></span>
    <div class="progress">
      <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="{{item.users}}"aria-valuemin="0" aria-valuemax="{{item.total}}" style="width:{{item.pct}}%">
        {{item.users}}/{{item.total}}
      </div>
    </div>
    {% endfor %}

    <h4>PCT change:</h4>
    {% for item in age_stats_change %}
    {{item.range}} Change {{item.pct_change}}%<span class="pull-right strong"></span>
    {% endfor %}

  </div>
  <div class="col-10 align-center">
  <!-- <div class="container"> -->
    <div class="row">
      <div class="col-10">
        <div class="card">
          <div class="card-header">Activity per hour</div>
          <div id="chartdiv"></div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-10">
        <div class="card">
          <div class="card-header">Messages per postal code</div>
          <div id="map"></div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-10">
        <div class="card">
          <div class="card-header">Hourly comparison with baseline</div>
          <div id="baseline_compare"></div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-5">
        <div class="card">
          <div class="card-header">Category count per city</div>
          <div id="category_map" class="bottom_row"></div>
        </div>
      </div>
      <div class="col-5">
        <div class="card">
          <div class="card-header">Activity per hour</div>
          <figure class="highcharts-figure bottom_row">
              <div id="container"></div>
              <p class="highcharts-description">
                  Number of SMS per city. Click on a bar for more details.
              </p>
          </figure>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{% static "count_per_hour.js" %}"></script>
<script src="{% static "count_baseline_compare.js" %}"></script>
<script src="{% static "index.js" %}"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjcV1g05m75vFiTdVb8-kDhPjsKiJZyXo&libraries=places&callback=initMap"
async defer></script>
<script src="{% static "count_per_city.js" %}"></script>
<script src="{% static "count_per_city_category.js" %}"></script>

{% endblock %}
